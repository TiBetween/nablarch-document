.. _nablarch_policy:

基本方針
============================

Nablarchアプリケーションフレームワークの基本方針について解説する。


.. _nablarch_architecture-no_input:

外部から受け付ける未入力値の扱い
--------------------------------------------------
アプリケーションは外部から未入力値も含めた様々なデータを受け付ける。
未入力値は一般的に ``null`` と空文字列の２つの表現方法がある。
この２つの表現方法をアプリケーション開発者が意識して実装すると思わぬ不具合を生み出す可能性がある。
その問題を回避するためには未入力値の扱いを統一しなければならない。

未入力値の表現方法を統一するために、Nablarchでは未入力値を ``null`` に変換する。
そのため、HTTPリクエストのパラメータやXMLなどの外部から受け付けたデータの未入力値は ``null`` に変換する。
また、カスタムタグやフォーマットして出力するなどの外部へ ``null`` を出力するときは、出力するデータ形式に応じて未入力を意味する値に変換する。
変換はNablarchのハンドラ・ライブラリが行うため、アプリケーションで未入力値を変換する必要はない。

この方針に従い、アプリケーションでは未入力値を ``null`` として開発するべきである。
なお、未入力値を ``null`` に変換するには :ref:`normalize_handler` をハンドラキューに追加する必要がある。
